<?xml version='1.0' encoding='UTF-8'?>
<pdfx xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://pdfx.cs.man.ac.uk/static/article-schema.xsd">
  <meta>
    <job>0b2a68662339afb050ba147e67512c77516e24e991c0854e085efa5c5ee74240</job>
    <base_name>18wd</base_name>
    <doi>http://dx.doi.org/10.1109/vr.2011.5759466</doi>
    <warning>Name identification was not possible. </warning>
    <warning>The font used for 'body text' does not predominate across pages. Output quality may be degraded.</warning>
  </meta>
  <article>
    <front class="DoCO:FrontMatter">
      <region class="DoCO:FigureBox" id="Fx1">
        <image class="DoCO:Figure" src="18wd.page_001.image_01.png" thmb="18wd.page_001.image_01-thumb.png"/>
      </region>
      <title-group>
        <article-title class="DoCO:Title" id="2">Virtual Surround Design Specification</article-title>
      </title-group>
      <outsider class="DoCO:TextBox" type="sidenote" id="3">Abstract</outsider>
      <outsider class="DoCO:TextBox" type="outsider" id="4">This document describes the Virtual Surround component used to produce a 5.1 multichannel audio scene through virtualization in a pair of headphones. It includes details about the requirement, design, reference implementation and OMX IL interface specification.</outsider>
      <outsider class="DoCO:TextBox" type="sidenote" id="5">Authors</outsider>
      <outsider class="DoCO:TextBox" type="outsider" id="8">Jonas Lundbäck (<email id="6">jonas.xj.lundback@stericsson.com</email>) William Glass (<email id="7">william.glass@st.com</email>) added sections 4,5,6,7 (J uly 19, 2012)</outsider>
      <region class="DoCO:FigureBox" id="Fx9">
        <image class="DoCO:Figure" src="18wd.page_002.image_02.png" thmb="18wd.page_002.image_02-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="10">Additional Information</outsider>
      <outsider class="DoCO:TextBox" type="header" id="11">When this component is schedule for implementation I have reference code to use as a starting point.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="12">Contents</outsider>
      <outsider class="DoCO:TextBox" type="page_nr" id="13">2</outsider>
      <outsider class="DoCO:TextBox" type="header" id="14">1 Virtual Surround - Overview............................................................... 3 1.1 Requirement Description ................................................................... 5 Interface Specification ....................................................................... 6 2.1 Parameter Description ....................................................................... 6 2.2 OMX IL Interface Description ............................................................. 9 3 Algorithm Detailed Description ........................................................ 11 3.1 Details - Multichannel Mixer............................................................. 12 3.2 Details – Virtualization Processing................................................... 14 3.2.1 For information – Filter Calculations ................................................ 15 3.3 Details – Room Simulation Processing ............................................ 18 3.3.1 Room Filter ...................................................................................... 19 3.3.2 Delay Line with Cross Coupling ....................................................... 20 3.3.3 Room Simulation Parameters .......................................................... 22 4.0 Virtual Surround API .....................................................23 5.0 Virtual Surround MIPS ...................................................30 6.0 Virtual Surround Listening Test Survey ............................ .31 7.0 Virtual Surround Tuning Configurations ............................36</outsider>
      <region class="DoCO:FigureBox" id="Fx15">
        <image class="DoCO:Figure" src="18wd.page_003.image_03.png" thmb="18wd.page_003.image_03-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="16">1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="17">Virtual Surround - Overview</outsider>
      <outsider class="DoCO:TextBox" type="header" id="18">Virtual Surround is multichannel to binaural converter with the purpose to position and enhance the multichannel audio in such a way that the user listening (through headphones) experiences an externalization and a spatial localization similar to listening to a 5.1 surround system.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="19">Audio Render</outsider>
      <outsider class="DoCO:TextBox" type="header" id="20">Multichannel Decoder</outsider>
      <outsider class="DoCO:TextBox" type="header" id="21">Virtual Surround with Room Simulation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="22">Multichannel audio in PCM</outsider>
      <outsider class="DoCO:TextBox" type="header" id="23">Stereo channel audio in PCM</outsider>
      <outsider class="DoCO:TextBox" type="header" id="24">Virtual Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="25">There are three different rendering modes of the virtual surround algorithm; each having a specific benefit over the others in terms of complexity or externalization and virtualization. The room simulation is an extra feature that adds an extra spatial sensation to the virtualized audio while at the same time creating an audio scene where the listener can be part of a movie audience, a crowd at a concert or at home in the living room.</outsider>
      <region class="DoCO:FigureBox" id="Fx26">
        <image class="DoCO:Figure" src="18wd.page_004.image_04.png" thmb="18wd.page_004.image_04-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="27">Virtual Surround Rendering Modes</outsider>
      <outsider class="DoCO:TextBox" type="header" id="28">Matrix Left/Right Downmix No frequency coloration Low complexity No virtualization</outsider>
      <outsider class="DoCO:TextBox" type="header" id="29">Matrix Surround Downmix No frequency coloration Low complexity Low virtualization</outsider>
      <outsider class="DoCO:TextBox" type="header" id="30">Surround Virtualization Low frequency coloration Medium complexity High virtualization</outsider>
      <outsider class="DoCO:TextBox" type="header" id="31">Virtual Surround Room Simulation Modes</outsider>
      <outsider class="DoCO:TextBox" type="header" id="32">Room Simulation Mixed Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="33">Room Simulation Virtualized Mode</outsider>
      <outsider class="DoCO:TextBox" type="sidenote" id="34">High Diffuse source</outsider>
      <region class="unknown" id="35">externalization location</region>
      <region class="DoCO:TextChunk" id="36" confidence="possible">High externalization Front and surround separation</region>
      <region class="DoCO:FigureBox" id="Fx37">
        <image class="DoCO:Figure" src="18wd.page_005.image_05.png" thmb="18wd.page_005.image_05-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="38">1.1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="39">Requirement Description</outsider>
      <outsider class="DoCO:TextBox" type="header" id="40">Requirements: • Supported sample rate is 48 kHz • Component shall accept 6 channels in and provide 2 channels out. Channel order is according to OMX IL OMX_AUDIO_CHANNELTYPE and includes 0x0 to 0x6. • The input and output bit-resolution of audio shall be 16 bit. Internal processing can be 16 and 32 bit. • All parameters are changeable in runtime (OMX IL SetConfig) except sample rate and frame size. • Arbitrary frame size is supported but not changeable unless component is reallocated (according to standard OMX IL)</outsider>
      <region class="DoCO:FigureBox" id="Fx41">
        <image class="DoCO:Figure" src="18wd.page_006.image_06.png" thmb="18wd.page_006.image_06-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="42">2</outsider>
      <outsider class="DoCO:TextBox" type="header" id="43">Interface Specification</outsider>
      <outsider class="DoCO:TextBox" type="header" id="44">There is no standardized component in OMX IL for this type of implementation. There is a reference to 5.1 to stereo in Stereo Widening component in OMX IL. However, 5.1 to stereo conversion have nothing to do with stereo widening and therefore we shall define a proprietary component called Virtual Surround.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="45">2.1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="46">Parameter Description</outsider>
      <outsider class="DoCO:TextBox" type="header" id="47">The VSC can be at runtime configured by the following parameters. Names in the table below are only for this description. Different names are used in the OMX IL interface definition.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="48">Parameter Name</outsider>
      <outsider class="DoCO:TextBox" type="header" id="49">Description</outsider>
      <outsider class="DoCO:TextBox" type="header" id="50">Rendering Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="51">Rendering mode is the selection of how the VSC should process the multichannel audio to produce either a stereo audio signal or a binaural audio signal. The choice of rendering mode will affect the user experience and the computational load.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="52">Required parameter types: Enumeration values</outsider>
      <outsider class="DoCO:TextBox" type="header" id="53">MLRMD</outsider>
      <outsider class="DoCO:TextBox" type="header" id="54">Multichannel Left-Right Matrix Downmix. Matrix down-mix without left and right surround mixing.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="55">MSMD</outsider>
      <outsider class="DoCO:TextBox" type="header" id="56">Multichannel Surround Matrix Downmix with left and right surround mixing. It can be considered as a low complexity version of</outsider>
      <outsider class="DoCO:TextBox" type="header" id="57">MSVD</outsider>
      <outsider class="DoCO:TextBox" type="header" id="58">Multichannel Surround Virtualization Downmix. This mode is also denoted Virtual Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="59">Room Simulation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="60">Control the optional reverberation processing to simulate the room</outsider>
      <region class="unknown" id="61">where audio is virtualized.</region>
      <outsider class="DoCO:TextBox" type="footer" id="62">Required parameter types: Boolean values</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="63">RSIM_FRONT_OFFON</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="64">Room Simulation of front speakers OFF and ON. Controls if the reverberation should be executed and mixed with the downmixed multichannel audio.</outsider>
      <region class="DoCO:FigureBox" id="Fx65">
        <image class="DoCO:Figure" src="18wd.page_007.image_07.png" thmb="18wd.page_007.image_07-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="66">RSIM_SURROUND_OFFON Room Simulation of surround speakers OFF and ON. Controls if the reverberation should be executed and mixed with the downmixed multichannel audio.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="67">Room Simulation Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="68">Control which channels that are used to perform the room simulation.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="69">Required parameter types: Enumeration values</outsider>
      <outsider class="DoCO:TextBox" type="header" id="70">RSIM_MIXMODE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="71">In this mode the unprocessed front and surround channels are inputs to the reverberation processing.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="72">RSIM_VIZMODE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="73">In this mode the processed front and surround channels are inputs to the reverberation processing.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="74">Room Simulation Room type The Room type will completely configure the reverberation processing part of the virtual surround component.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="75">Required parameter types: Enumeration values</outsider>
      <outsider class="DoCO:TextBox" type="header" id="76">ROOM_TYPE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="77">Can be any of: Room Living Room Auditorium Concert Hall Arena Small Room Medium Room Large Room Medium Hall Large Hall.</outsider>
      <outsider class="DoCO:TextBox" type="sidenote" id="78">Mixing Gain</outsider>
      <region class="DoCO:TextChunk" id="79" confidence="possible">The mixing gain of each channel (after processing)</region>
      <outsider class="DoCO:TextBox" type="sidenote" id="80">can be adjusted</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="81">before final mixing into left and right channel.</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="82">Required parameter types: sint16</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="83">LF_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="84">Left Front Gain</outsider>
      <region class="DoCO:FigureBox" id="Fx85">
        <image class="DoCO:Figure" src="18wd.page_008.image_08.png" thmb="18wd.page_008.image_08-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="86">Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="87">RF_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="88">Right Front Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="89">CF_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="90">Center Front Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="91">LFE_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="92">LFE Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="93">LS_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="94">Left Surround Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="95">RS_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="96">Right Surround Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where -7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="97">FR_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="header" id="98">Front Reverberation Gain</outsider>
      <region class="unknown" id="99">Gain in mB (1 milliBell = 0.01 dB) ranging from</region>
      <outsider class="DoCO:TextBox" type="sidenote" id="100">[ – 7800 1200] where</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="101">-7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="102">SR_GAIN</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="103">Surround Reverberation Gain Gain in mB (1 milliBell = 0.01 dB) ranging from [ – 7800 1200] where</outsider>
      <region class="DoCO:FigureBox" id="Fx104">
        <image class="DoCO:Figure" src="18wd.page_009.image_09.png" thmb="18wd.page_009.image_09-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="105">-7800 correspond to mute. Default value = 0 mB</outsider>
      <outsider class="DoCO:TextBox" type="header" id="106">2.2</outsider>
      <outsider class="DoCO:TextBox" type="header" id="107">OMX IL Interface Description</outsider>
      <outsider class="DoCO:TextBox" type="header" id="108">typedef enum OMX_AUDIO_VIRTUALSURROUNDMODE { OMX_AUDIO_VirtualSurroundStandardDownmix, /**&lt; Matrix Downmix without left and right surround mixing */ OMX_AUDIO_ VirtualSurroundSurroundDownmix, /**&lt; Matrix Downmix with left and right surround mixing*/ OMX_AUDIO_ VirtualSurroundSurroundVirtualization /**&lt; 5.1 channel virtualization*/ OMX_AUDIO_VirtualSurroundModeMax = 0x7FFFFFFF } OMX_AUDIO_VIRTUALSURROUNDMODE; typedef enum OMX_AUDIO_VIRTUALSURROUNDROOMSIMULATIONMODE { OMX_AUDIO_VirtualSurroundRoomSimulationMixed, /**&lt; Room Simulation is based on non-processed front/surround audio signals */ OMX_AUDIO_ VirtualSurroundRoomSimulationVirtualized, /**&lt; Room Simulation is based on virtualized front/surround audio signals*/ } OMX_AUDIO_ VIRTUALSURROUNDROOMSIMULATIONMODE; typedef enum OMX_AUDIO_VIRTUALSURROUNDROOMSIMULATIONROOMTYPE { OMX_AUDIO_ VirtualSurroundRoomTypeRoom, OMX_AUDIO_ VirtualSurroundRoomTypeLivingRoom, OMX_AUDIO_ VirtualSurroundRoomTypeAuditorium, OMX_AUDIO_ VirtualSurroundRoomTypeConcertHall, OMX_AUDIO_ VirtualSurroundRoomTypeArena, OMX_AUDIO_ VirtualSurroundRoomTypeSmallRoom, OMX_AUDIO_ VirtualSurroundRoomTypeMediumRoom, OMX_AUDIO_ VirtualSurroundRoomTypeLargeRoom, OMX_AUDIO_ VirtualSurroundRoomTypeMediumHall, OMX_AUDIO_ VirtualSurroundRoomTypeLargeHall } OMX_AUDIO_ VIRTUALSURROUNDROOMSIMULATIONROOMTYPE; typedef enum OMX_AUDIO_VIRTUALSURROUNDMIXGAIN { OMX_AUDIO_ VirtualSurroundLeftFrontGain, OMX_AUDIO_ VirtualSurroundRightFrontGain, OMX_AUDIO_ VirtualSurroundCenterFrontGain, OMX_AUDIO_ VirtualSurroundLeftSurroundGain, OMX_AUDIO_ VirtualSurroundRightSurroundGain, OMX_AUDIO_ VirtualSurroundLFEGain, OMX_AUDIO_ VirtualSurroundFrontRoomSimulationGain, OMX_AUDIO_ VirtualSurroundSurroundRoomSimulationGain } OMX_AUDIO_VIRTUALSURROUNDMIXGAIN;</outsider>
      <region class="DoCO:FigureBox" id="Fx109">
        <image class="DoCO:Figure" src="18wd.page_010.image_10.png" thmb="18wd.page_010.image_10-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="110">typedef struct OMX_AUDIO_CONFIG_VIRTUALSURROUNDTYPE { OMX_U32 nSize; /**&lt; size of the structure in bytes */ OMX_VERSIONTYPE nVersion; /**&lt; OMX specification version information */ OMX_U32 nPortIndex; /**&lt; port that this structure applies to */ OMX_BOOL bEnable; /**&lt; Enable/disable for Virtual Surround control */ OMX_AUDIO_VIRTUALSURROUNDMODE eVirtualSurroundMode; /**&lt; Virtual Surround algorithm type */ OMX_BOOL bRoomSimulationFrontEnable /**&lt; Enable/disable room simulation processing for the Front speaker pair (LF and RF)*/ OMX_BOOL bRoomSimulationSurroundEnable /**&lt; Enable/disable room simulation processing for the Surround speaker pair (LS and RS)*/ OMX_AUDIO_ VIRTUALSURROUNDROOMSIMULATIONMODE eRoomSimulationMode; /**&lt; Select the room simulation mode*/ OMX_AUDIO_ VIRTUALSURROUNDROOMSIMULATIONROOMTYPE eRoomSimulationRoomType; /**&lt; Select the room type where audio is virtualized */ OMX_AUDIO_VIRTUALSURROUNDMIXGAIN eMixGain; /** &lt; Select which channel to adjust the gain on */ OMX_S16 sGainValue; /**&lt; Gain value in mB (1/100 dB) */ } OMX_AUDIO_CONFIG_ VIRTUALSURROUNDTYPE;</outsider>
      <region class="DoCO:FigureBox" id="Fx111">
        <image class="DoCO:Figure" src="18wd.page_011.image_11.png" thmb="18wd.page_011.image_11-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="112">3</outsider>
      <outsider class="DoCO:TextBox" type="header" id="113">Algorithm Detailed Description</outsider>
      <outsider class="DoCO:TextBox" type="header" id="114">The figure below shows an overview of the complete algorithm and where parameters are required.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="115">Interface parameters: Render Mode, Mixing Levels</outsider>
      <outsider class="DoCO:TextBox" type="header" id="116">Interface parameters: Render Mode, Mixing Levels, Room Simulation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="117">Binaural Stereo Audio</outsider>
      <outsider class="DoCO:TextBox" type="header" id="118">Multichannel Audio 6 Virtualization channels -&gt; 2 Processing channels, Mixer Multichannel/stream one left and one right Mixing of all sources Bypass if inactive 6 channels in and out Room Room Processed Simulation Simulation LF and RF Front Surround LS and RS Room Simulation Processing Create the room simulation Unprocessed effect. LF and RF LS and RS Interface parameters: Room Simulation, Room Type Room Simulation Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="119">Consider the following matrix and table of how the algorithm will work according to the parameters.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="120">• Render Mode = MLRMD or MSMD The Virtualization Processing block is skipped and multichannel audio is transferred directly into the multichannel mixer. • Render Mode = MSVD The Virtualization Processing block will create 6 stereo audio</outsider>
      <region class="unknown" id="121">streams that are input to the mixer.</region>
      <region class="DoCO:FigureBox" id="Fx122">
        <image class="DoCO:Figure" src="18wd.page_012.image_12.png" thmb="18wd.page_012.image_12-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="123">Room Simulation Mode (Room Simulation = ON)</outsider>
      <outsider class="DoCO:TextBox" type="header" id="124">Render Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="125">RSIM_MIXMODE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="126">RSIM_VIZMODE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="127">MLRMD Virtualization Processing OFF Virtualization Processing OFF Reverberation is done using non- Not possible processed multichannel audio i.e. Front Reverberation using LF+RF Surround Reverberation using LS+RS MSMD Virtualization Processing OFF Virtualization Processing OFF Reverberation is done using non- Not possible processed multichannel audio i.e. Front Reverberation using LF+RF Surround Reverberation using LS+RS MSVD Virtualization Processing ON Virtualization Processing ON Reverberation is done using non- Reverberation is done using processed multichannel audio i.e. processed multichannel audio Front Reverberation using LF+RF i.e. Surround Reverberation using Front Reverberation using LS+RS Processed_LF+ Processed_RF Surround Reverberation using Processed_LS+ Processed_RS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="128">3.1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="129">Details - Multichannel Mixer</outsider>
      <outsider class="DoCO:TextBox" type="header" id="130">The multichannel mixer will apply gain and mix the virtualized audio signals from the Virtualization Processing block. It also handles the down-mix without virtualization when the Rendering Mode is such that Virtualization Processing block is inactive. The following formula describe the operation of the multichannel mixer for Rendering Mode = MLRMD and MSMD</outsider>
      <region class="unknown" id="131">Out ( n ) = G LF LF ( n ) + G RF RF ( n ) + G CF CF ( n ) + G LFE G LS ( n ) + G RS ( n ) + G Front Re verb ( n ) + G Surround</region>
      <outsider class="DoCO:TextBox" type="footer" id="132">LS</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="133">RS</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="134">FR</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="135">SR</outsider>
      <outsider class="DoCO:TextBox" type="sidenote" id="136">LFE ( n ) + Re verb ( n )</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="137">Observe that G xy = XY _ GAIN  ScalingVal ue _ xy and that Out(n) can be either left or right output signal, see below for different scale factors in each channel.</outsider>
      <region class="DoCO:FigureBox" id="Fx138">
        <image class="DoCO:Figure" src="18wd.page_013.image_13.png" thmb="18wd.page_013.image_13-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="139">The table below provides the values of the ScalingValue_xy for each Rendering Mode and both output channels, denoted Out_Mixer_Left and Out_Mixer_Right. For the reverberation addition there is no pre-scaling value.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="140">ScalingValue_xy LF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="141">RF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="142">CF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="143">LFE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="144">LS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="145">RS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="146">Out_Mixer_Left 0,2929</outsider>
      <outsider class="DoCO:TextBox" type="header" id="147">0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="148">0,2071</outsider>
      <outsider class="DoCO:TextBox" type="header" id="149">0,2071</outsider>
      <outsider class="DoCO:TextBox" type="header" id="150">0,2929</outsider>
      <outsider class="DoCO:TextBox" type="header" id="151">0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="152">Out_Mixer_Right 0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="153">0,2929</outsider>
      <outsider class="DoCO:TextBox" type="header" id="154">0,2071</outsider>
      <outsider class="DoCO:TextBox" type="header" id="155">0,2071</outsider>
      <outsider class="DoCO:TextBox" type="header" id="156">0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="157">0,2929</outsider>
      <outsider class="DoCO:TextBox" type="header" id="158">The table shows the scaling factor for Rendering Mode = MLRMD. The values of the scaling parameters are taken from ITU-R BS 775 recommendation including normalization with 4.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="159">ScalingValue_xy LF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="160">RF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="161">CF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="162">LFE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="163">LS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="164">RS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="165">Out_Mixer_Left 0,2626</outsider>
      <outsider class="DoCO:TextBox" type="header" id="166">0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="167">0,1856</outsider>
      <outsider class="DoCO:TextBox" type="header" id="168">0,1856</outsider>
      <outsider class="DoCO:TextBox" type="header" id="169">-0,2144</outsider>
      <outsider class="DoCO:TextBox" type="header" id="170">-0,1516</outsider>
      <outsider class="DoCO:TextBox" type="header" id="171">Out_Mixer_Right 0</outsider>
      <outsider class="DoCO:TextBox" type="header" id="172">0,2626</outsider>
      <outsider class="DoCO:TextBox" type="header" id="173">0,1856</outsider>
      <outsider class="DoCO:TextBox" type="header" id="174">0,1856</outsider>
      <outsider class="DoCO:TextBox" type="header" id="175">0,1516</outsider>
      <outsider class="DoCO:TextBox" type="header" id="176">0,2144</outsider>
      <outsider class="DoCO:TextBox" type="header" id="177">The table shows the scaling factor for Rendering Mode = MSMD. The values of the scaling parameters are taken from Dolby ProLogicII including normalization with 5. Per-default the mixing gains are 0 mB = 1.0 in linear scale. When changed by a user the mixer will update the corresponding gain G xy = XY _ GAIN  ScalingVal ue _ xy accordingly (scale the gain once, do not apply two gains to every sample). The scaling factors in the Rendering Mode = MSVD are embedded in the filter coefficients, see section on Virtualization Processing. In this rendering mode the mixer will only mix the stereo room simulation signals and the virtualized stereo signal which correspond to Out _ Mixer _ Left ( n ) = Virtualize d _ Left ( n ) + G FR Front Re verb _ Left ( n ) + G SR Surround Re verb ( n )</outsider>
      <region class="unknown" id="178">Out _ Mixer _ Right ( n ) = Virtualize d _ Right ( n ) + G</region>
      <outsider class="DoCO:TextBox" type="sidenote" id="179">FR Front Re verb _ Right ( n ) +</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="180">G SR Surround Re verb _ Right ( n )</outsider>
      <region class="DoCO:FigureBox" id="Fx181">
        <image class="DoCO:Figure" src="18wd.page_014.image_14.png" thmb="18wd.page_014.image_14-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="182">3.2</outsider>
      <outsider class="DoCO:TextBox" type="header" id="183">Details – Virtualization Processing</outsider>
      <outsider class="DoCO:TextBox" type="header" id="184">Left Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="185">Right Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="186">LF LF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="187">Delay ITD_F</outsider>
      <outsider class="DoCO:TextBox" type="header" id="188">FIR-Filter Cross Path Front</outsider>
      <outsider class="DoCO:TextBox" type="header" id="189">RF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="190">Left Channel Front Reverberation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="191">Delay ITD_F</outsider>
      <outsider class="DoCO:TextBox" type="header" id="192">FIR-Filter Cross Path Front</outsider>
      <outsider class="DoCO:TextBox" type="header" id="193">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="194">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="195">RF LS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="196">LS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="197">Right Channel Front Reverberation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="198">Delay ITD_S</outsider>
      <outsider class="DoCO:TextBox" type="header" id="199">FIR-Filter Cross Path Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="200">RS</outsider>
      <outsider class="DoCO:TextBox" type="header" id="201">Left Channel Surround Reverberation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="202">Delay ITD_S</outsider>
      <outsider class="DoCO:TextBox" type="header" id="203">FIR-Filter Cross Path Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="204">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="205">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="206">RS CF</outsider>
      <outsider class="DoCO:TextBox" type="header" id="207">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="208">Right Channel Surround Reverberation</outsider>
      <outsider class="DoCO:TextBox" type="header" id="209">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="210">CF LFE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="211">Left Output Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="212">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="213">LFE</outsider>
      <outsider class="DoCO:TextBox" type="header" id="214">+</outsider>
      <outsider class="DoCO:TextBox" type="header" id="215">Right Output Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="216">An overview of the algorithm is shown in the figure below. The red color is to distinguish whether a signal is part of left or right output channel. Observe the multiple output pairs; Left and right output channel connected to the multichannel mixer, Left and right room simulation front to transport to the Room Simulation</outsider>
      <region class="DoCO:TextChunk" id="217" confidence="possible">Component, Left and right room simulation surround to transport</region>
      <outsider class="DoCO:TextBox" type="sidenote" id="218">to the Room</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="219">Simulation Component. The delays are static as well as the filters and are given below. The gains in the CF and LFE channel paths are all equal to 0.2071. The scaling coefficients for the filter coefficients are equal to 0.2929.</outsider>
      <region class="DoCO:FigureBox" id="Fx220">
        <image class="DoCO:Figure" src="18wd.page_015.image_15.png" thmb="18wd.page_015.image_15-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="221">The scaling are chosen to prevent overflow (4 major contributing signals) and to maintain a ratio of approximately 1.5 for low frequencies between the energy in the Front and Surround compared to Center and LFE i.e. a difference of 3 dB in gain factors.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="222">For 48 kHz sample rate:</outsider>
      <outsider class="DoCO:TextBox" type="header" id="223">#define ITD_F #define ITD_S #define FilterLength</outsider>
      <outsider class="DoCO:TextBox" type="header" id="224">20 //Nbr Samples 30 //Nbr Samples 24</outsider>
      <outsider class="DoCO:TextBox" type="header" id="225">static double FrontCrossPathFilter[FilterLength]= {1.3350140491, -1.2958213193, 1.6064858581, -1.6951546872, 1.9279427866, -2.3618071067, 1.7158364773, -1.5094340371, 1.4213929267, -0.9242773986, 0.6967906917, -0.0874822265, -0.2727191849, 0.0177337655, -0.3420586483, 0.4090871737, -0.2525245360, 0.3038753510, -0.0577015072, -0.0933968168, -0.1440930239, -0.0071032693, 0.1363469103, -0.0894641511 }; static double SurroundCrossPathFilter[FilterLength] = { 0.5779864100, -0.2721829886, 0.4419516062, -0.4567398157, 0.5155719975, -0.4839318874, 0.3281144982, -0.2888947143, 0.2361084931, -0.1069127924, 0.1029413038, 0.1021681987, -0.0845649646, 0.0277488969, -0.1027936522, 0.0383021177, 0.0096673142, 0.0362158017, 0.0969802960, -0.0559862231, 0.0371187357, -0.0416770545, 0.0511471175, -0.0358427400 }; Filter coefficients are given without normalization using the scaling coefficients stated above.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="226">3.2.1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="227">For information – Filter Calculations</outsider>
      <outsider class="DoCO:TextBox" type="header" id="228">The filters given above are obtained as follows. From the Ericsson Research database of HR-filters we extract the HR filter corresponding to 15 degrees azimuth angle and 0 degree elevation (one filter for left</outsider>
      <region class="unknown" id="229">ear and one filter for right ear). Using these two filters the LF signal and the RF (switch place on left and right</region>
      <outsider class="DoCO:TextBox" type="sidenote" id="230">we can position filter) signal since</outsider>
      <outsider class="DoCO:TextBox" type="footer" id="231">the filters are symmetric across azimuth 0 degree. Doing so will create several resonance frequencies resulting in peaks and dips in the frequency response function of the respective filter.</outsider>
      <region class="DoCO:FigureBox" id="Fx232">
        <image class="DoCO:Figure" src="18wd.page_016.image_16.png" thmb="18wd.page_016.image_16-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="233">To remove some coloration of the frequency content i.e. decrease the magnitude and number of peak and dips in the frequency response we consider removing the filter of the direct path to the closest sink i.e. ipsilateral path. And instead of filtering with the cross path filter (contralateral path) we calculate the difference between the filter and use that to filter the cross path signal. So considering for example the signal in the left and right ear when virtualizing the LF signal,</outsider>
      <outsider class="DoCO:TextBox" type="header" id="234">LeftEar ( f ) = H d ( f ) LF ( f ) , RightEar ( f )) = H c ( f ) LF ( f )</outsider>
      <outsider class="DoCO:TextBox" type="header" id="235">that is then approximated by LeftEar ( f ) = LF ( f ) RightEar ( f )) = H c ( f ) LF ( f ) , H d ( f )</outsider>
      <outsider class="DoCO:TextBox" type="header" id="236">where H ( f ) = H c ( f ) are the FrontCrossPathFilter. The analogue H d ( f ) calculations for the surround channels are made to obtain the SurroundCrossPathFilter and here the azimuth angle is 105 degrees.</outsider>
      <region class="DoCO:FigureBox" id="Fx237">
        <image class="DoCO:Figure" src="18wd.page_017.image_17.png" thmb="18wd.page_017.image_17-thumb.png"/>
        <image class="DoCO:Figure" src="18wd.page_017.image_18.png" thmb="18wd.page_017.image_18-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="238">Due to the normalization taken to decrease the frequency impact and also gaining some computational load we will of course loose some virtualization effect. So we can not take the ITD times corresponding to the HR filters. The chosen ITD times are experimentally obtained during listening tests and are much larger than the true ITD times.</outsider>
      <region class="DoCO:FigureBox" id="Fx239">
        <image class="DoCO:Figure" src="18wd.page_018.image_19.png" thmb="18wd.page_018.image_19-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="240">3.3</outsider>
      <outsider class="DoCO:TextBox" type="header" id="241">Details – Room Simulation Processing</outsider>
      <outsider class="DoCO:TextBox" type="header" id="242">The room simulation is comprised of two basic early reverberation units. One for the pair of front speakers (LF and RF) and one for the pair of surround speakers (LS and RS).</outsider>
      <outsider class="DoCO:TextBox" type="header" id="243">ROOM SIMULATION PROCESSING COMPONENT</outsider>
      <outsider class="DoCO:TextBox" type="header" id="244">Interface parameters: Room Simulation Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="245">Interface parameters: Room Type</outsider>
      <outsider class="DoCO:TextBox" type="header" id="246">Unprocessed Front Left and Right Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="247">Left Output Channel Room Simulation Front</outsider>
      <outsider class="DoCO:TextBox" type="header" id="248">Select which pair of audio signals to use either unprocessed or processed FRONT AUDIO</outsider>
      <outsider class="DoCO:TextBox" type="header" id="249">Early Reverberation Unit FRONT AUDIO Static configuration of length and gain</outsider>
      <outsider class="DoCO:TextBox" type="header" id="250">Right Output Channel Room Simulation Front</outsider>
      <outsider class="DoCO:TextBox" type="header" id="251">Processed Front Left and Right Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="252">Interface parameters: Room Simulation Mode</outsider>
      <outsider class="DoCO:TextBox" type="header" id="253">Interface parameters: Room Type</outsider>
      <outsider class="DoCO:TextBox" type="header" id="254">Left Output Channel Room Simulation Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="255">Unprocessed Surround Left and Right Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="256">Select which pair of audio signals to use either unprocessed or processed SURROUND AUDIO</outsider>
      <outsider class="DoCO:TextBox" type="header" id="257">Early Reverberation Unit SURROUND AUDIO Static configuration of length and gain</outsider>
      <outsider class="DoCO:TextBox" type="header" id="258">Right Output Channel Room Simulation Surround</outsider>
      <outsider class="DoCO:TextBox" type="header" id="259">Processed Surround Left and Right Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="260">Above is an overview picture of the room simulation processing component.</outsider>
      <region class="DoCO:FigureBox" id="Fx261">
        <image class="DoCO:Figure" src="18wd.page_019.image_20.png" thmb="18wd.page_019.image_20-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="262">The early reverberation unit is described below.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="263">Interface parameters: Room Type</outsider>
      <outsider class="DoCO:TextBox" type="header" id="264">Left Output Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="265">Delay Line with Cross Coupling Static Configuration of length and gain</outsider>
      <outsider class="DoCO:TextBox" type="header" id="266">Left Input Channel Room Filter First order IIR filter configured by the choice of room type. Right Input Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="267">Right Output Channel</outsider>
      <outsider class="DoCO:TextBox" type="header" id="268">The Room Filter is configured from the choice of Room Type. The delays and gains of the delay line are static and not configurable.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="269">3.3.1</outsider>
      <outsider class="DoCO:TextBox" type="header" id="270">Room Filter</outsider>
      <outsider class="DoCO:TextBox" type="header" id="271">The room filter is a first order IIR filter H ( z ) = 1 − b a 0 1 z − 1 where b 0 = k ( 1 − a ) .</outsider>
      <outsider class="DoCO:TextBox" type="header" id="272">From the room type the following parameters are read: lRoom – Intensity level at low frequencies lRoomHF – attenuation at high frequencies (relative to IRoom) lReflections – Intensity of early reflections flHFReference – Reference high frequency Values for each room type are listed below in section Room Simulation Parameters The normalization constant k = 10 ( lRoom + 1000 + lReflectio ns ) / 20 is calculated to normalize the total amplification in the room filter.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="273">Further,  = 2  flHF Re ference , where fs is the sample rate in Hz,</outsider>
      <region class="DoCO:TextChunk" id="274" confidence="possible">fs g = 10 lRoomHF / 1000 and</region>
      <outsider class="DoCO:TextBox" type="footer" id="275">1 − g cos(  ) − 2 g ( 1 − cos(  )) − g 2 ( 1 − cos(  ) 2 ) a = . 1 − g</outsider>
      <region class="DoCO:FigureBox" id="Fx276">
        <image class="DoCO:Figure" src="18wd.page_020.image_21.png" thmb="18wd.page_020.image_21-thumb.png"/>
      </region>
      <outsider class="DoCO:TextBox" type="header" id="277">3.3.2</outsider>
      <outsider class="DoCO:TextBox" type="header" id="278">Delay Line with Cross Coupling</outsider>
      <outsider class="DoCO:TextBox" type="header" id="279">There are two delay lines in one reverberation unit, one for left channel and one for right channel. The delay lines are static and equal to longest delay plus the frame size i.e.,</outsider>
      <outsider class="DoCO:TextBox" type="header" id="280">#define MAX _DELAY_LINE 1201 double LeftDelayLine[MAX _DELAY_LINE + FrameSize]; double RightDelayLine[MAX _DELAY_LINE + FrameSize];</outsider>
      <outsider class="DoCO:TextBox" type="header" id="281">In each delay line there are 8 tapping points for input to output (direct path). These are denoted SFX_ER_h_ll_delays and SFX_ER_h_rr_delays and 5 tapping points for second input to output (cross path), denoted SFX_ER_h_rl_delays and SFX_ER_h_lr_delays. The gain of each tap in the delay lines are given by the coefficients below denoted SFX_ER_h_ll, SFX_ER_h_rr, SFX_ER_h_rl and SFX_ER_h_lr.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="282">// The delay line taps for the adjustment filters. // All delays are given in samples @ 48 kHz. static const double SFX_ER_h_ll[8] = {0.2680, -0.2256, 0.2507, 0.1345, 0.3016, -0.0907, 0.3021, 0.2262}; static const short SFX_ER_h_ll_delays[8] = {75, 160, 220, 390, 450, 620, 700, 1050}; static const double SFX_ER_h_rr[8] = {0.2801, -0.2244, 0.1587, 0.2299, 0.1414, - 0.1069, 0.0696, 0.0894}; static const short SFX_ER_h_rr_delays[8] = {75, 160, 225, 384, 458, 618, 720, 1061}; static const double SFX_ER_h_rl[5] = {0.2000, 0.2993, -0.0764, -0.0860, -0.1552}; static const short SFX_ER_h_rl_delays[5] = {110, 299, 560, 902, 1198}; static const double SFX_ER_h_lr[8] = {0.2000, 0.2820, -0.1807, -0.0978, -0.1181}; static const short SFX_ER_h_lr_delays[8] = {110, 300, 550, 900, 1201};</outsider>
      <outsider class="DoCO:TextBox" type="header" id="283">Updating the Delay Lines.</outsider>
      <outsider class="DoCO:TextBox" type="header" id="284">When the output signals of left and right channel has been created the delay lines must be updated i.e. shifted to the left so that the oldest samples are removed and space is made for the next new frame of audio. 1. This requires a memcopy from the right part of the delay line to the left part of the delay line of DELAY_LINE_LENGTH – FrameSize number of</outsider>
      <region class="unknown" id="285">samples, see figure below. (This is how its done in the</region>
    </front>
    <body class="DoCO:BodyMatter">
      <section class="DoCO:Section">
        <h1 class="DoCO:SectionTitle" id="286" confidence="possible" page="20" column="1">reference code)</h1>
        <region class="DoCO:FigureBox" id="Fx287">
          <image class="DoCO:Figure" src="18wd.page_021.image_22.png" thmb="18wd.page_021.image_22-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="288" page="21" column="1">2. Instead of fixed positions of delay line taps we could keep the distance fixed and let the relative position rotate, as a circular buffer. However, doing so we need to keep track of delay line start and end and at the same time considering that using NEON the data should be stored in a linear storage. Hence, it might be that utilizing NEON fully is more beneficial than avoiding memcopy operations since there are a lot of (at least 2*13*FrameSize) multiply and accumulate operations to do before two memcopy operations of MAX_DELAY_LINE number of samples.</outsider>
        <outsider class="DoCO:TextBox" type="header" id="289" page="21" column="1">Delay Line of length MAX_DELAY_LINE + FrameSize</outsider>
        <outsider class="DoCO:TextBox" type="header" id="290" page="21" column="1">Left Input Channel from Room Filter</outsider>
        <outsider class="DoCO:TextBox" type="header" id="291" page="21" column="1">Oldest sample</outsider>
        <outsider class="DoCO:TextBox" type="header" id="292" page="21" column="1">NEW SAMPLES 1,2,3,...,FrameSize</outsider>
        <outsider class="DoCO:TextBox" type="header" id="293" page="21" column="1">lr_5 ll_8</outsider>
        <outsider class="DoCO:TextBox" type="header" id="294" page="21" column="1">lr_1</outsider>
        <outsider class="DoCO:TextBox" type="header" id="295" page="21" column="1">ll_1</outsider>
        <outsider class="DoCO:TextBox" type="header" id="296" page="21" column="1">Left Output Channe l +</outsider>
        <outsider class="DoCO:TextBox" type="header" id="297" page="21" column="1">+</outsider>
        <outsider class="DoCO:TextBox" type="header" id="298" page="21" column="1">Right Output Channel</outsider>
        <outsider class="DoCO:TextBox" type="header" id="299" page="21" column="1">rl_5 rr_8 rl_1</outsider>
        <outsider class="DoCO:TextBox" type="header" id="300" page="21" column="1">rr_1</outsider>
        <outsider class="DoCO:TextBox" type="header" id="301" page="21" column="1">Right Input Channel from Room Filter</outsider>
        <outsider class="DoCO:TextBox" type="header" id="302" page="21" column="1">Oldest sample</outsider>
        <outsider class="DoCO:TextBox" type="header" id="303" page="21" column="1">NEW SAMPLES 1,2,3,...,FrameSize</outsider>
        <outsider class="DoCO:TextBox" type="header" id="304" page="21" column="1">Delay Line of length MAX_DELAY_LINE +</outsider>
        <ref-list class="DoCO:BiblioGraphicReferenceList">
          <ref class="deo:BibliographicReference" id="305" confidence="possible" page="21" column="1">FrameSize</ref>
        </ref-list>
        <region class="DoCO:FigureBox" id="Fx306">
          <image class="DoCO:Figure" src="18wd.page_022.image_23.png" thmb="18wd.page_022.image_23-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="307" page="22" column="1">3.3.3</outsider>
        <outsider class="DoCO:TextBox" type="header" id="308" page="22" column="1">Room Simulation Parameters</outsider>
        <outsider class="DoCO:TextBox" type="header" id="309" page="22" column="1">typedef struct{ long lRoom; // [-10000, 0] default: -10000 mB long lRoomHF; // [-10000, 0] default: 0 mB double flRoomRolloffFactor; // [0.0, 10.0] default: 0.0 double flDecayTime; // [0.1, 20.0] default: 1.0 s double flDecayHFRatio; // [0.1, 2.0] default: 0.5 long lReflections; // [-10000, 1000] default: -10000 mB double flReflectionsDelay; // [0.0, 0.3] default: 0.02 s long lReverb; // [-10000, 2000] default: -10000 mB double flReverbDelay; // [0.0, 0.1] default: 0.04 s double flDiffusion ; // [0.0, 100.0] default: 100.0 % double flDensity; // [0.0, 100.0] default: 100.0 % double flHFReference; // [20.0, 20000.0] default: 5000.0 Hz} SFX_Reverb_RoomParameters_t; static const SFX_Reverb_RoomParameters_t SFX_Reverb_RoomParameters[] = { // I3DL2_ROOM_DEFAULT {-10000, 0, 0.0, 1.00, 0.50, -10000, 0.020, -10000, 0.040, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_ROOM { -1000, -454, 0.0, 0.40, 0.83, 0, 0.002, 53, 0.003, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_LIVINGROOM { -1000,-3000, 0.0, 0.50, 0.10, 0, 0.003, -1104, 0.004, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_AUDITORIUM { -1000, -476, 0.0, 4.32, 0.59, 0, 0.020, -389, 0.030, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_CONCERTHALL { -1000, -500, 0.0, 3.92, 0.70, 0, 0.020, -102, 0.029, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_ARENA { -1000, -698, 0.0, 7.24, 0.33, 0, 0.020, -300, 0.030, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_SMALLROOM { -1000, -600, 0.0, 1.10, 0.83, 0, 0.005, 500, 0.010, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_MEDIUMROOM { -1000, -600, 0.0, 1.30, 0.83, 0, 0.010, 300, 0.020, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_LARGEROOM { -1000, -600, 0.0, 1.50, 0.83, 0, 0.020, 200, 0.040, 100.0, 100.0, 5000.0}, // I3DL2_ROOM_MEDIUMHALL { -1000, -600, 0.0, 1.80, 0.70, 0, 0.015, 200, 0.030, 100.0, 100.0, 5000.0},</outsider>
        <region class="unknown" id="310" page="22" column="1">// I3DL2_ROOM_LARGEHALL</region>
        <outsider class="DoCO:TextBox" type="footer" id="311" page="22" column="1">{ -1000, -600, 0.0, 1.80, 0.70, 0, 0.030, 100, 0.060, 100.0, 100.0, 5000.0}, };</outsider>
        <region class="DoCO:FigureBox" id="Fx312">
          <image class="DoCO:Figure" src="18wd.page_023.image_24.png" thmb="18wd.page_023.image_24-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="313" page="23" column="1">4.0 VIRTUAL SURROUND – API</outsider>
        <region class="DoCO:FigureBox" id="Fx314">
          <image class="DoCO:Figure" src="18wd.page_024.image_25.png" thmb="18wd.page_024.image_25-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="315" page="24" column="1">4.1 STRUCTURES 4.1.1 t_host_effect_config unsigned int block_size t_host_effect_format infmt t_host_effect_format outfmt</outsider>
        <outsider class="DoCO:TextBox" type="header" id="316" page="24" column="1">t_host_effect_format unsigned short freq (7) unsigned short nof_channels (6 on input, 2 on output) unsigned short nof_bits_per_sample (16) unsigned short headroom t_bool interleaved (0 or 1)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="317" page="24" column="1">sample_freq ----------- 0=UNKNOWN 1=192kHz 2=176.4kHz 3=128kHz 4=96kHz 5=88.2kHz 6=64kHz 7=48kHz 8=44.1kHz 9=32kHz 10=24kHz 11=22.05kHz 12=16kHz 13=12kHz 14=11.025kHz 15=8kHz 16=7.2kHz 17=LAST</outsider>
        <region class="DoCO:FigureBox" id="Fx318">
          <image class="DoCO:Figure" src="18wd.page_025.image_26.png" thmb="18wd.page_025.image_26-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="319" page="25" column="1">4.1.2 void t_vs_handle ----------------</outsider>
        <region class="DoCO:FigureBox" id="Fx320">
          <image class="DoCO:Figure" src="18wd.page_026.image_27.png" thmb="18wd.page_026.image_27-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="321" page="26" column="1">4.1.3 t_vs_allocation_params unsigned short nof_channels (6) unsigned short sample_rate (48000) int frame_size (any number of samples) t_bool interleave (0=linear, 1=interleaved) t_audio_channel_type channel_mapping[8] (1, 2, 3, 6, 4, 5, 0, 0)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="322" page="26" column="1">t_audio_channel_type -------------------- AUDIO_CHANNEL_NONE=0 AUDIO_CHANNEL_LF=1 AUDIO_CHANNEL_RF=2 AUDIO_CHANNEL_CF=3 AUDIO_CHANNEL_LS=4 AUDIO_CHANNEL_RS=5 AUDIO_CHANNEL_LFE=6 AUDIO_CHANNEL_CS=7 AUDIO_CHANNEL_LR=8 AUDIO_CHANNEL_RR=9 AUDIO_CHANNEL_MAX=0x7fffffff</outsider>
        <region class="DoCO:FigureBox" id="Fx323">
          <image class="DoCO:Figure" src="18wd.page_027.image_28.png" thmb="18wd.page_027.image_28-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="324" page="27" column="1">4.1.4 t_virtual_surround_config t_bool enable(0 or 1) t_bool room_simulation_front(0 or 1) t_bool room_simulation_surround(0 or 1) t_virtual_surround_mode(1,2, or 3) t_room_simulation_mode(1 or 2) t_room_simulation_room_type(0, 1, .. 10) t_mix_gain(-7800 ... +1200)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="325" page="27" column="1">t_virtual_surround_mode ----------------------- STANDARD_DOWN_MIX=1 SURROUND_DOWN_MIX=2 SURROUND_VIRTUALIZATION=3 t_room_simulation_mode ---------------------- MIXED=1 VIRTUALIZED=2 t_room_simulation_room_type --------------------------- DEFAULT=0 ROOM=1 LIVING_ROOM=2 AUDITORIUM=3 CONCERT_HALL=4 ARENA=5 SMALL_ROOM=6 MEDIUM_ROOM=7 LARGE_ROOM=8 MEDIUM_HALL=9 LARGE_HALL=10 t_mix_gain gains short left_front_gain (-7800 to 1200 milliBell) short right_front_gain ” short center_front _gain ” short left_surround_gain ”</outsider>
        <region class="unknown" id="326" page="27" column="1">short right_surround_gain ” short low_frequency_effects_gain ” sh ort front_room_simulation_gain ” sho rt surround_room_simulation_gain ”</region>
        <region class="DoCO:FigureBox" id="Fx327">
          <image class="DoCO:Figure" src="18wd.page_028.image_29.png" thmb="18wd.page_028.image_29-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="328" page="28" column="1">4.2 FUNCTIONS 4.2.1 int open (t_host_effect_config *config) 4.2.4 int setConfig (t_virtual_surround_config config) 4.2.3 void reset (t_effect_reset_reason reason) 4.2.4 void process (void) 4.2.5 void close (void)</outsider>
        <region class="DoCO:FigureBox" id="Fx329">
          <image class="DoCO:Figure" src="18wd.page_029.image_30.png" thmb="18wd.page_029.image_30-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="330" page="29" column="1">4.3 API PROCEDURE</outsider>
        <outsider class="DoCO:TextBox" type="header" id="331" page="29" column="1">4.3.1 Create and init global variables</outsider>
        <outsider class="DoCO:TextBox" type="header" id="332" page="29" column="1">4.3.1.1 direct API interface variables</outsider>
        <outsider class="DoCO:TextBox" type="header" id="333" page="29" column="1">t_bool mEnable=FALSE unsigned short mInChannels,mOutChannels,mBlockSize,mBufferSize=0 t_host_effect_config *config=0 t_virtual_surround_config configparams=0 short inputBuffer[ ] outputBuffer[ ]</outsider>
        <outsider class="DoCO:TextBox" type="header" id="334" page="29" column="1">4.3.1.2 internal variables needed and programmed by effect functions</outsider>
        <outsider class="DoCO:TextBox" type="header" id="335" page="29" column="1">t_vs_handle *pHandle=NULL t_vs_allocation_params mParams=0 t_vs_param mConfig=0</outsider>
        <outsider class="DoCO:TextBox" type="header" id="336" page="29" column="1">4.3.2 Configuration set up</outsider>
        <outsider class="DoCO:TextBox" type="header" id="337" page="29" column="1">set config-&gt;block_size set config-&gt;infmt and outfmt values</outsider>
        <outsider class="DoCO:TextBox" type="header" id="338" page="29" column="1">4.3.3 open(config) 4.3.4 Parameter set up (ref 7.0 for tuning values)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="339" page="29" column="1">set configparams-&gt; enable,room_simulation_front,room_simulation_surround,virtual_surround_mode, room_type,room_simulation_mode set configparams-&gt;gains-&gt;left_front, right_front, center_front, left_surround, right_surround, low_frequency_effects, front_room_simulation_gain, surround_simulation_gain</outsider>
        <outsider class="DoCO:TextBox" type="header" id="340" page="29" column="1">4.3.5 setconfig(configparams) 4.3.6 reset()</outsider>
        <outsider class="DoCO:TextBox" type="sidenote" id="341" page="29" column="1">4.3.7 fill</outsider>
        <region class="unknown" id="342" page="29" column="1">input buffer samples, execute process(),</region>
        <outsider class="DoCO:TextBox" type="sidenote" id="343" page="29" column="1">empty</outsider>
        <outsider class="DoCO:TextBox" type="footer" id="344" page="29" column="1">output buffer samples until finished 4.3.8 close()</outsider>
        <region class="DoCO:FigureBox" id="Fx345">
          <image class="DoCO:Figure" src="18wd.page_030.image_31.png" thmb="18wd.page_030.image_31-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="346" page="30" column="1">5.0 MIPS</outsider>
        <outsider class="DoCO:TextBox" type="header" id="347" page="30" column="1">Virtual Surround standalone test results using ca9sim (Cortex A9 simulator)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="348" page="30" column="1">test vs_virtualization vs_virtualization_room_no_gain vs_virtualization_room_max_gain vs_virtualization_room_max_front_gain vs_virtualization_room_mixed_no_gain vs_virtualization_room_mixed_max_surround_gain vs_standard_downmix vs_standard_downmix_room_no_gain vs_standard_downmix_room_max_gain vs_standard_downmix_room_max_surround_gain vs_surround_downmix vs_surround_downmix_room_no_gain vs_surrround_downmix_room_max_gain vs_surrround_downmix_room_max_front_gain vs_standard_downmix vs_virtualization_room_no_gain_concert_hall vs_standard_downmix vs_virtualization_room_no_gain_concert_hall vs_standard_downmix vs_virtualization vs_virtualization_room_no_gain_concert_hall vs_standard_downmix vs_virtualization vs_virtualization_room_no_gain_concert_hall vs_virtualization_room_no_gain_concert_hall vs_standard_downmix vs_virtualization vs_standard_downmix vs_virtualization vs_standard_downmix vs_virtualization_room_no_gain_living_room vs_standard_downmix vs_virtualization vs_virtualization_room_no_gain_living_room</outsider>
        <outsider class="DoCO:TextBox" type="header" id="349" page="30" column="1">MIPS ---- 13.7 42.5 42.5 28.2 42.5 28.2 3.1 31.9 31.9 17.5 3.2 31.9 31.9 17.5 3.1 42.5 3.1 42.5 3.1 13.7 42.5 3.1 13.7 42.5 42.5 3.1 13.7 3.1 13.7 3.1 42.5 3.1 13.7 42.5</outsider>
        <outsider class="DoCO:TextBox" type="header" id="350" page="30" column="1">CONTENTS speech speech speech speech speech speech speech speech speech speech speech speech speech speech music Buena music Buena music Miles music Miles music Hancock music Hancock music Hancock music Connick music Connick music Connick music Connick1 music Clapton music Clapton DVD Pourpres DVD Pourpres DVD StarWars3 DVD StarWars3 DVD Transformers DVD Transformers DVD Transformers</outsider>
        <region class="DoCO:FigureBox" id="Fx351">
          <image class="DoCO:Figure" src="18wd.page_031.image_32.png" thmb="18wd.page_031.image_32-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="352" page="31" column="1">6.0 Virtual Surround Listening Test Survey</outsider>
        <outsider class="DoCO:TextBox" type="header" id="353" page="31" column="1">The object of the listening test survey was to obtain preferences of a limited number of subjects (engineers, musicians, and non-technical personnel) on the following 3 virtual surround effect configurations: 1. standard down mixing 2. virtualization 3. virtualization with room simulation.</outsider>
        <outsider class="DoCO:TextBox" type="header" id="354" page="31" column="1">On: 1. music 2. DVD films 3. Spatially moving audio message.</outsider>
        <region class="DoCO:FigureBox" id="Fx355">
          <image class="DoCO:Figure" src="18wd.page_032.image_33.png" thmb="18wd.page_032.image_33-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="356" page="32" column="1">6.1 VIRTUAL SURROUND LISTENING TESTS FOR MUSIC (18 June 2012)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="357" page="32" column="1">6.1.1 SURROUND_VIRTUALIZATION vs. STANDARD_DOWN_MIX (Clapton) Prefer extra effect xxxx Prefer simple down mix xxxxx 6.1.2 SURROUND_VIRTUALIZATION_WITH_ROOM SIMULATION vs. STANDARD_DOWN_MIX (BuenaVista, Connick, Miles) Prefer extra effect xxx, xxxxxxx, xxxxx Prefer simple down mix xxxxxx, xxxxxx, xxxx 6.1.3 SURROUND_VIRTUALIZATION_WITH_ROOM_SIMULATION vs. SURROUND_VIRTUALIZATION (Hancock) Prefer extra room simulation effect xxxxxxx Prefer only virtualization xxx 6.1.4 Total Prefer extra effects 26 Don't prefer extra effects 23</outsider>
        <region class="DoCO:FigureBox" id="Fx358">
          <image class="DoCO:Figure" src="18wd.page_033.image_34.png" thmb="18wd.page_033.image_34-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="359" page="33" column="1">6.2 VIRTUAL SURROUND LISTENING TESTS FOR DVD FILM (21 June 2012) SURROUND_VIRTUALIZATION_WITH_ROOM SIMULATION vs. STANDARD_DOWN_MIX (Transformers) Prefer extra effect xxxxxx Prefer only simple down mix xxxxxx Total Prefer extra effects 6 Don't prefer extra effects 6</outsider>
        <region class="DoCO:FigureBox" id="Fx360">
          <image class="DoCO:Figure" src="18wd.page_034.image_35.png" thmb="18wd.page_034.image_35-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="361" page="34" column="1">6.3 VIRTUAL SURROUND LISTENING TESTS FOR A SPATIALLY MOVING AUDIO MESSAGE (25 June 2012)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="362" page="34" column="1">6.3.1 SURROUND_VIRTUALIZATION vs. STANDARD_DOWN_MIX Prefer extra effect xxxxxxxxxxxx Prefer only simple down mix x 6.3.2 SURROUND_VIRTUALIZATION_WITH_ROOM SIMULATION vs. SURROUND_VIRTUALIZATION Prefer virtualization room simulation effect xx Prefer virtualization only xxxxxxxxxx</outsider>
        <region class="DoCO:FigureBox" id="Fx363">
          <image class="DoCO:Figure" src="18wd.page_035.image_36.png" thmb="18wd.page_035.image_36-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="364" page="35" column="1">6.4 Conclusion Music: Roughly half the listeners prefer only down mixing vs. virtualization, but if virtualization is preferred there seems to be a slight additional preference to room simulation. Whether the subjects were musicians, engineers, or non-technical personnel, there seem to be roughly the same results. DVD Movie: Half the listeners prefer only down mixing vs. virtualization with room simulation. Spatially Moving Audio Message: Almost all prefer virtualization but not the additional room simulation.</outsider>
        <region class="DoCO:FigureBox" id="Fx365">
          <image class="DoCO:Figure" src="18wd.page_036.image_37.png" thmb="18wd.page_036.image_37-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="366" page="36" column="1">7.0 TUNING Typical values for 3 tuning configurations.</outsider>
        <region class="DoCO:FigureBox" id="Fx367">
          <image class="DoCO:Figure" src="18wd.page_037.image_38.png" thmb="18wd.page_037.image_38-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="368" page="37" column="1">7.1 STANDARD DOWN MIX config for all types of audio signals and low MIPS count (3.1 MIPS)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="369" page="37" column="1">Configparams-&gt;enable=1 Configparams-&gt;room_simulation_front=0 Configparams-&gt;room_simulation_surround=0 Configparams-&gt;virtual_surround_mode=1 Configparams-&gt;room_simulation_mode=1 Configparams-&gt;room_type=0 Configparams-&gt;gains.left_front_gain=1200 Configparams-&gt;gains.right_front_gain=1200 Configparams-&gt;gains.center_front_gain=1200 Configparams-&gt;gains.left_surround_gain=1200 Configparams-&gt;gains.right_surround_gain=1200 Configparams-&gt;gains.low_frequency_effects_gain=0 Configparams-&gt;gains.front_room_simulation_gain=0 Configparams-&gt;gains.surround_room_simulation_gain=0</outsider>
        <region class="DoCO:FigureBox" id="Fx370">
          <image class="DoCO:Figure" src="18wd.page_038.image_39.png" thmb="18wd.page_038.image_39-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="371" page="38" column="1">7.2 SURROUND VIRTUALIZATION config for all types of audio signals and compromise between added virtualization effect and relatively low MIPS count (13.7 MIPS)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="372" page="38" column="1">Configparams-&gt;enable=1 Configparams-&gt;room_simulation_front=0 Configparams-&gt;room_simulation_surround=0 Configparams-&gt;virtual_surround_mode=3 Configparams-&gt;room_simulation_mode=1 Configparams-&gt;room_type=0 Configparams-&gt;gains.left_front_gain=0 Configparams-&gt;gains.right_front_gain=0 Configparams-&gt;gains.center_front_gain=0 Configparams-&gt;gains.left_surround_gain=0 Configparams-&gt;gains.right_surround_gain=0 Configparams-&gt;gains.low_frequency_effects_gain=0 Configparams-&gt;gains.front_room_simulation_gain=0 Configparams-&gt;gains.surround_room_simulation_gain=0</outsider>
        <region class="DoCO:FigureBox" id="Fx373">
          <image class="DoCO:Figure" src="18wd.page_039.image_40.png" thmb="18wd.page_039.image_40-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="374" page="39" column="1">7.3 SURROUND VIRTUALIZATION WITH ROOM SIMULATION config especially for music but with a relatively high MIPS count (42.5 MIPS)</outsider>
        <outsider class="DoCO:TextBox" type="header" id="375" page="39" column="1">Configparams-&gt;enable=1 Configparams-&gt;room_simulation_front=1 Configparams-&gt;room_simulation_surround=1 Configparams-&gt;virtual_surround_mode=3 Configparams-&gt;room_simulation_mode=1 Configparams-&gt;room_type=4(CONCERT_HALL) Configparams-&gt;gains.left_front_gain=0 Configparams-&gt;gains.right_front_gain=0 Configparams-&gt;gains.center_front_gain=0 Configparams-&gt;gains.left_surround_gain=0 Configparams-&gt;gains.right_surround_gain=0 Configparams-&gt;gains.low_frequency_effects_gain=0 Configparams-&gt;gains.front_room_simulation_gain=0 Configparams-&gt;gains.surround_room_simulation_gain=0</outsider>
        <region class="DoCO:FigureBox" id="Fx376">
          <image class="DoCO:Figure" src="18wd.page_040.image_41.png" thmb="18wd.page_040.image_41-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="377" page="40" column="1">7.4 Multi-channel 5.1 input signal (Spatially moving audio message).</outsider>
        <region class="DoCO:FigureBox" id="Fx378">
          <image class="DoCO:Figure" src="18wd.page_040.image_42.png" thmb="18wd.page_040.image_42-thumb.png"/>
          <image class="DoCO:Figure" src="18wd.page_041.image_43.png" thmb="18wd.page_041.image_43-thumb.png"/>
        </region>
        <outsider class="DoCO:TextBox" type="header" id="379" page="41" column="1">7.5 Display of the corresponding 2 Binaural output signals tuned as above for the Standard Down Mix configuration and then for the Surround Virtualization configuration (respectively).</outsider>
        <region class="DoCO:FigureBox" id="Fx380">
          <image class="DoCO:Figure" src="18wd.page_041.image_44.png" thmb="18wd.page_041.image_44-thumb.png"/>
        </region>
      </section>
    </body>
  </article>
</pdfx>
